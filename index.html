<!DOCTYPE html>
<html lang="tr">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9TBV0530VS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9TBV0530VS');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Zamanli - Online Randevu Sistemi | Berber & KuafÃ¶r Randevu</title>
    <meta name="description" content="Berber, kuafÃ¶r ve gÃ¼zellik salonlarÄ± iÃ§in Ã¼cretsiz online randevu sistemi. Kolayca randevu al, sÄ±ra bekleme! TÃ¼rkiye'nin en kolay randevu platformu.">
    <meta name="keywords" content="online randevu, berber randevu, kuafÃ¶r randevu, gÃ¼zellik salonu, randevu sistemi, zamanli, saÃ§ kesimi randevu, istanbul berber">
    <meta name="author" content="Zamanli">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://zamanli.com/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://zamanli.com/">
    <meta property="og:title" content="Zamanli - Online Randevu Sistemi">
    <meta property="og:description" content="Berber, kuafÃ¶r ve gÃ¼zellik salonlarÄ± iÃ§in Ã¼cretsiz online randevu sistemi. Kolayca randevu al!">
    <meta property="og:image" content="https://zamanli.com/icons/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="tr_TR">
    <meta property="og:site_name" content="Zamanli">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://zamanli.com/">
    <meta name="twitter:title" content="Zamanli - Online Randevu Sistemi">
    <meta name="twitter:description" content="Berber, kuafÃ¶r ve gÃ¼zellik salonlarÄ± iÃ§in Ã¼cretsiz online randevu sistemi.">
    <meta name="twitter:image" content="https://zamanli.com/icons/og-image.png">
    
    <!-- YapÄ±sal Veri - Organization -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Zamanli",
        "alternateName": "Zamanli Online Randevu Sistemi",
        "url": "https://zamanli.com",
        "logo": "https://zamanli.com/icons/logo.png",
        "description": "Berber, kuafÃ¶r ve gÃ¼zellik salonlarÄ± iÃ§in online randevu sistemi",
        "foundingDate": "2024",
        "sameAs": [],
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+90-543-383-85-87",
            "contactType": "customer service",
            "availableLanguage": "Turkish"
        }
    }
    </script>
    
    <!-- YapÄ±sal Veri - WebApplication -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Zamanli",
        "description": "Berber, kuafÃ¶r ve gÃ¼zellik salonlarÄ± iÃ§in online randevu sistemi",
        "url": "https://zamanli.com",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web, iOS, Android",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "TRY",
            "description": "Ãœcretsiz baÅŸlangÄ±Ã§ paketi"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "150"
        }
    }
    </script>
    
    <!-- YapÄ±sal Veri - SoftwareApplication (Google Play/App Store iÃ§in) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Zamanli - Online Randevu",
        "operatingSystem": "Web",
        "applicationCategory": "BusinessApplication",
        "offers": {
            "@type": "Offer",
            "price": "0"
        }
    }
    </script>
    
    <!-- PWA Install Prompt - En Erken Yakala -->
    <script>window.addEventListener('beforeinstallprompt',(e)=>{e.preventDefault();window.__pwaPrompt=e;console.log('[PWA] Install prompt yakalandÄ±');});</script>
    
    <!-- PWA Temel -->
    <meta name="application-name" content="Zamanli">
    <meta name="theme-color" content="#0B2B26">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Apple/iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Zamanli">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/icon-128x128.png">
    
    <!-- iOS Splash Screens -->
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1290-2796.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1179-2556.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1170-2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1284-2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1242-2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-640-1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1620-2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="/icons/splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)">
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileColor" content="#0B2B26">
    <meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-72x72.png">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <link rel="icon" type="image/x-icon" href="/icons/favicon.ico">
    
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Fonts: Satoshi + Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://api.fontshare.com" crossorigin>
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,500,600,700,800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <a href="/" class="logo">
                <img src="/icons/logo.png" alt="Zamanli" class="logo-image">
                <span class="logo-text">Zamanli</span>
            </a>
            <nav class="nav desktop-nav">
                <a href="/berber/" class="nav-link">âœ¨ Salonlar</a>
                <a href="/berber/kayit/" class="nav-link highlight">Salonunu Ekle</a>
                <a href="#" onclick="showLoginModal(); return false;" class="nav-link">ğŸ”‘ GiriÅŸ</a>
            </nav>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
        </div>
    </header>
    
    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu">
        <div class="mobile-menu-header">
            <a href="/" class="logo">
                <img src="/icons/logo.png" alt="Zamanli" class="logo-image">
                <span class="logo-text">Zamanli</span>
            </a>
            <button class="mobile-menu-close" onclick="toggleMobileMenu()" aria-label="MenÃ¼yÃ¼ kapat">âœ•</button>
        </div>
        <nav class="mobile-menu-nav">
            <a href="/" class="active">ğŸ  Ana Sayfa</a>
            <span style="padding: 0.5rem 1.5rem; font-size: 0.75rem; color: var(--slate-400); text-transform: uppercase;">Kategoriler</span>
            <a href="/berber/?category=berber">ğŸ’ˆ Berberler</a>
            <a href="/berber/?category=kuafor">ğŸ’‡â€â™€ï¸ KuafÃ¶rler</a>
            <a href="/berber/?category=beauty">ğŸ’† GÃ¼zellik Merkezleri</a>
            <a href="/berber/">âœ¨ TÃ¼m Salonlar</a>
            <div class="mobile-menu-divider"></div>
            <a href="/fiyatlandirma/">ğŸ’° FiyatlandÄ±rma</a>
            <a href="#" onclick="showLoginModal(); toggleMobileMenu(); return false;">ğŸ”‘ GiriÅŸ Yap</a>
            <a href="/berber/kayit/" class="highlight">âœ¨ Salonunu Ekle</a>
            <a href="#" onclick="ZamanliUX.showInstallPrompt(); toggleMobileMenu(); return false;" id="mobileInstallBtn" class="pwa-hide-when-installed pwa-hide-on-ios">ğŸ“² UygulamayÄ± Ä°ndir</a>
        </nav>
        <div class="mobile-menu-footer">
            <p>Â© 2026 Zamanli</p>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <span class="hero-badge">âœ¨ Online Randevu Sistemi</span>
                <h1>Salon Randevusu<br><span class="gradient-text">ArtÄ±k Ã‡ok Kolay!</span></h1>
                <p class="hero-desc">Berber, kuafÃ¶r ve gÃ¼zellik merkezlerini bul, anÄ±nda randevu al!</p>
                
                <!-- Kategori KartlarÄ± -->
                <div class="category-cards" style="display: flex; gap: 1rem; margin: 2rem 0; flex-wrap: wrap; justify-content: center;">
                    <a href="/berber/?category=berber" class="category-card" style="background: white; border-radius: 12px; padding: 1.5rem 2rem; text-decoration: none; color: inherit; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.2s; text-align: center; min-width: 140px;">
                        <span style="font-size: 2.5rem; display: block; margin-bottom: 0.5rem;">ğŸ’ˆ</span>
                        <span style="font-weight: 700; color: #10B981;">Berberler</span>
                    </a>
                    <a href="/berber/?category=kuafor" class="category-card" style="background: white; border-radius: 12px; padding: 1.5rem 2rem; text-decoration: none; color: inherit; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.2s; text-align: center; min-width: 140px;">
                        <span style="font-size: 2.5rem; display: block; margin-bottom: 0.5rem;">ğŸ’‡â€â™€ï¸</span>
                        <span style="font-weight: 700; color: #ec4899;">KuafÃ¶rler</span>
                    </a>
                    <a href="/berber/?category=beauty" class="category-card" style="background: white; border-radius: 12px; padding: 1.5rem 2rem; text-decoration: none; color: inherit; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.2s; text-align: center; min-width: 140px;">
                        <span style="font-size: 2.5rem; display: block; margin-bottom: 0.5rem;">ğŸ’†</span>
                        <span style="font-weight: 700; color: #14b8a6;">GÃ¼zellik</span>
                    </a>
                </div>
                
                <div class="hero-actions">
                    <a href="/berber/" class="btn btn-primary btn-lg">
                        <span>ğŸ”</span> TÃ¼m SalonlarÄ± GÃ¶r
                    </a>
                    <a href="/demo/berber/" class="btn btn-outline btn-lg">
                        <span>ğŸ‘ï¸</span> Demo Ä°ncele
                    </a>
                </div>

                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-value">7/24</span>
                        <span class="stat-label">Online Randevu</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">0</span>
                        <span class="stat-label">Bekleme SÃ¼resi</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">%100</span>
                        <span class="stat-label">Ãœcretsiz</span>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="mock-header">
                            <span>âœ¨</span> Zamanli
                        </div>
                        <div class="mock-services">
                            <div class="mock-service">
                                <span>ğŸ’ˆ Berber</span>
                                <span>â†’</span>
                            </div>
                            <div class="mock-service">
                                <span>ğŸ’‡â€â™€ï¸ KuafÃ¶r</span>
                                <span>â†’</span>
                            </div>
                            <div class="mock-service active">
                                <span>ğŸ’† GÃ¼zellik</span>
                                <span>â†’</span>
                            </div>
                        </div>
                        <div class="mock-calendar">
                            <div class="mock-day">Pzt</div>
                            <div class="mock-day">Sal</div>
                            <div class="mock-day active">Ã‡ar</div>
                            <div class="mock-day">Per</div>
                            <div class="mock-day">Cum</div>
                        </div>
                        <div class="mock-btn">Randevu Al</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h2 class="section-title">Neden Zamanli?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3>AnÄ±nda Randevu</h3>
                    <p>Telefon aÃ§madan, beklemeden saniyeler iÃ§inde randevu al</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“±</div>
                    <h3>WhatsApp HatÄ±rlatma</h3>
                    <p>Randevu saatinden Ã¶nce WhatsApp ile hatÄ±rlatma al</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ¯</div>
                    <h3>Åeffaf Fiyatlar</h3>
                    <p>TÃ¼m hizmet fiyatlarÄ±nÄ± Ã¶nceden gÃ¶r, sÃ¼rpriz yaÅŸama</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">â­</div>
                    <h3>Kaliteli Salonlar</h3>
                    <p>OnaylÄ± ve deÄŸerlendirmeli berber salonlarÄ±</p>
                </div>
            </div>
        </div>
    </section>

    <!-- For Salons Section -->
    <section class="for-salons">
        <div class="container">
            <div class="salon-cta">
                <div class="salon-cta-content">
                    <span class="cta-badge">ğŸ’¼ Salon Sahipleri Ä°Ã§in</span>
                    <h2>Salonunuzu Dijitale TaÅŸÄ±yÄ±n</h2>
                    <p>Online Randevu Sistemi ile mÃ¼ÅŸterilerinize 7/24 hizmet verin. Hemen baÅŸlayÄ±n!</p>
                    <ul class="cta-features">
                        <li>âœ… Kolay kurulum (5 dakika)</li>
                        <li>âœ… WhatsApp entegrasyonu</li>
                        <li>âœ… Randevu yÃ¶netim paneli</li>
                        <li>âœ… PWA mobil uygulama</li>
                    </ul>
                    <a href="/fiyatlandirma/" class="btn btn-primary btn-lg">
                        Åimdi BaÅŸla â†’
                    </a>
                </div>
                <div class="salon-cta-visual">
                    <div class="dashboard-preview">
                        <div class="dash-header">ğŸ“Š YÃ¶netim Paneli</div>
                        <div class="dash-stats">
                            <div class="dash-stat">
                                <span class="dash-num">24</span>
                                <span class="dash-label">BugÃ¼n</span>
                            </div>
                            <div class="dash-stat">
                                <span class="dash-num">156</span>
                                <span class="dash-label">Bu Hafta</span>
                            </div>
                            <div class="dash-stat">
                                <span class="dash-num">4.8â­</span>
                                <span class="dash-label">Puan</span>
                            </div>
                        </div>
                        <div class="dash-appointments">
                            <div class="dash-apt">
                                <span>09:00</span>
                                <span>Ahmet Y.</span>
                                <span class="dash-apt-status">âœ“</span>
                            </div>
                            <div class="dash-apt">
                                <span>09:45</span>
                                <span>Mehmet K.</span>
                                <span class="dash-apt-status">âœ“</span>
                            </div>
                            <div class="dash-apt active">
                                <span>10:30</span>
                                <span>Ali D.</span>
                                <span class="dash-apt-status pending">â—¯</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Kategoriler bÃ¶lÃ¼mÃ¼ kaldÄ±rÄ±ldÄ± (Phase 3.7) -->

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <img src="/icons/logo.png" alt="Zamanli" class="logo-image">
                    <span class="logo-text">Zamanli</span>
                    <p>Online Randevu Sistemi</p>
                </div>
                <div class="footer-links">
                    <a href="/berber/">Salon Bul</a>
                    <a href="/berber/kayit/">Salonunu Ekle</a>
                    <a href="/fiyatlandirma/">FiyatlandÄ±rma</a>
                    <a href="https://wa.me/905433838587" target="_blank">Ä°letiÅŸim</a>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-legal">
                    <a href="/kvkk/">KVKK</a>
                    <a href="/gizlilik/">Gizlilik PolitikasÄ±</a>
                    <a href="/kullanim-kosullari/">KullanÄ±m KoÅŸullarÄ±</a>
                    <a href="/mesafeli-satis/">Mesafeli SatÄ±ÅŸ SÃ¶zleÅŸmesi</a>
                </div>
                <p>&copy; 2026 Zamanli. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
                <p class="footer-credit"><a href="https://feyzdigital.com" target="_blank">Feyz Digital</a> tarafÄ±ndan geliÅŸtirildi.</p>
            </div>
        </div>
    </footer>
    
    <!-- Mobile Menu Overlay -->
    <div id="mobileMenuOverlay" class="mobile-menu-overlay" onclick="toggleMobileMenu()"></div>
    
    <!-- Login Modal -->
    <div id="loginModal" class="login-modal-overlay">
        <div class="login-modal">
            <div class="login-modal-header">
                <h3>ğŸ”‘ GiriÅŸ Yap</h3>
                <button class="login-modal-close" onclick="closeLoginModal()">Ã—</button>
            </div>
            <div class="login-modal-body">
                <p class="login-modal-desc">Telefon numaranÄ±z ve PIN kodunuz ile giriÅŸ yapÄ±n</p>
                <form onsubmit="handleLogin(event)">
                    <div class="login-form-group">
                        <label>Telefon NumarasÄ±</label>
                        <input type="tel" id="loginPhone" placeholder="05XX XXX XX XX" required>
                    </div>
                    <div class="login-form-group">
                        <label>PIN Kodu</label>
                        <input type="password" id="loginPin" placeholder="4-6 haneli PIN" maxlength="6" required>
                    </div>
                    <p id="loginError" class="login-error"></p>
                    <button type="submit" class="login-btn">GiriÅŸ Yap</button>
                </form>
                <p class="login-register-link">HenÃ¼z salonunuz yok mu? <a href="/berber/kayit/">Ãœcretsiz KayÄ±t Ol</a></p>
            </div>
        </div>
    </div>
    
    <!-- Firebase & Push Notification Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-functions-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-messaging-compat.js"></script>
    <script src="/config.js"></script>
    <script src="/push-notifications.js"></script>
    
    <!-- Scripts -->
    <script>
        // Service Worker kaydÄ± + Otomatik GÃ¼ncelleme
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => {
                        console.log('SW registered:', reg.scope);
                        
                        // GÃ¼ncelleme kontrolÃ¼
                        reg.addEventListener('updatefound', () => {
                            const newWorker = reg.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Yeni versiyon hazÄ±r - kullanÄ±cÄ±ya bildir veya otomatik yenile
                                    console.log('New SW version available');
                                    newWorker.postMessage('SKIP_WAITING');
                                }
                            });
                        });
                    })
                    .catch(err => console.log('SW registration failed:', err));
                
                // SW'dan gÃ¼ncelleme mesajÄ± gelince BANNER gÃ¶ster (otomatik reload deÄŸil)
                let updateBannerShown = false;
                navigator.serviceWorker.addEventListener('message', (event) => {
                    if (event.data.type === 'SW_UPDATED' && !updateBannerShown) {
                        console.log('SW updated to', event.data.version);
                        updateBannerShown = true;
                        // Banner gÃ¶ster
                        showUpdateBanner();
                    }
                });
                
                function showUpdateBanner() {
                    if (document.getElementById('sw-update-banner')) return;
                    const banner = document.createElement('div');
                    banner.id = 'sw-update-banner';
                    banner.style.cssText = 'position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#1e293b;color:white;padding:12px 20px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.3);z-index:9999;display:flex;align-items:center;gap:12px;font-size:14px;';
                    banner.innerHTML = '<span>ğŸ”„ GÃ¼ncelleme mevcut</span><button onclick="location.reload()" style="background:#10B981;color:white;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:600;">Yenile</button><button onclick="this.parentElement.remove()" style="background:transparent;border:none;color:#94a3b8;cursor:pointer;font-size:18px;">Ã—</button>';
                    document.body.appendChild(banner);
                }
                
                // Controller deÄŸiÅŸince banner gÃ¶ster (otomatik reload deÄŸil)
                let refreshing = false;
                navigator.serviceWorker.addEventListener('controllerchange', () => {
                    if (!refreshing) {
                        refreshing = true;
                        // Otomatik reload yerine sadece log
                        console.log('SW controller changed');
                        // Ä°steÄŸe baÄŸlÄ±: showUpdateBanner();
                    }
                });
            });
        }
        
        // Mobile Menu Toggle
        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('active');
            document.getElementById('mobileMenuOverlay').classList.toggle('active');
            document.body.style.overflow = document.getElementById('mobileMenu').classList.contains('active') ? 'hidden' : '';
        }
        
        // ========== LOGIN MODAL ==========
        function showLoginModal() {
            document.getElementById('loginModal').classList.add('active');
        }
        
        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
            document.getElementById('loginError').classList.remove('show');
            document.getElementById('loginPhone').value = '';
            document.getElementById('loginPin').value = '';
        }
        
        async function handleLogin(e) {
            e.preventDefault();
            
            const phone = document.getElementById('loginPhone').value.replace(/\D/g, '').slice(-10);
            const pin = document.getElementById('loginPin').value;
            const errorEl = document.getElementById('loginError');
            const btn = e.target.querySelector('button[type="submit"]');
            
            if (phone.length < 10 || pin.length < 4) {
                errorEl.textContent = 'GeÃ§erli telefon ve PIN girin';
                errorEl.classList.add('show');
                return;
            }
            
            btn.disabled = true;
            btn.textContent = 'GiriÅŸ yapÄ±lÄ±yor...';
            errorEl.classList.remove('show');
            
            try {
                const db = firebase.firestore();
                const phone10 = phone.slice(-10);
                
                // Telefon numarasÄ±na gÃ¶re salon bul (sadece veri sorgulama, PIN client'ta kontrol edilmez)
                const salonsSnap = await db.collection('salons').where('active', '==', true).get();
                
                let matchedSalonId = null;
                let matchedSlug = null;
                let matchedType = null; // 'owner' veya 'staff'
                let matchedStaffInfo = null;
                
                for (const salonDoc of salonsSnap.docs) {
                    const salonData = salonDoc.data();
                    const salonId = salonDoc.id;
                    const slug = salonData.slug || salonId;
                    
                    // 1. SALON SAHÄ°BÄ° TELEFON EÅLEÅMESÄ°
                    const salonPhone = (salonData.phone || '').replace(/\D/g, '').slice(-10);
                    if (salonPhone === phone10) {
                        matchedSalonId = salonId;
                        matchedSlug = slug;
                        matchedType = 'owner';
                        break;
                    }
                    
                    // 2. PERSONEL TELEFON EÅLEÅMESÄ°
                    const staffArray = salonData.staff || [];
                    const matchedStaff = staffArray.find(s => {
                        const staffPhone = (s.phone || '').replace(/\D/g, '').slice(-10);
                        return staffPhone === phone10;
                    });
                    
                    if (matchedStaff) {
                        matchedSalonId = salonId;
                        matchedSlug = slug;
                        matchedType = matchedStaff.isOwner ? 'owner' : 'staff';
                        matchedStaffInfo = matchedStaff;
                        break;
                    }
                }
                
                if (!matchedSalonId) {
                    throw new Error('Telefon numarasÄ± kayÄ±tlÄ± deÄŸil');
                }
                
                // PIN doÄŸrulama: Cloud Function (server-side bcrypt)
                const verifyPin = firebase.app().functions('europe-west1').httpsCallable('verifyPinAuth');
                const result = await verifyPin({
                    salonId: matchedSalonId,
                    pin: pin,
                    phone: phone10,
                    userType: matchedType === 'owner' ? 'owner' : 'staff',
                    staffId: matchedStaffInfo ? (matchedStaffInfo.id || matchedStaffInfo.name) : null
                });
                
                if (result.data.success) {
                    // Firebase Auth Custom Token ile oturum aÃ§
                    if (result.data.customToken) {
                        try { await firebase.auth().signInWithCustomToken(result.data.customToken); } catch (e) { console.warn('[Login] Custom token hatasÄ±:', e); }
                    }
                    
                    if (matchedType === 'owner' || (matchedStaffInfo && matchedStaffInfo.isOwner)) {
                        localStorage.setItem('salonSession', JSON.stringify({
                            type: 'owner', slug: matchedSlug, salonId: matchedSalonId,
                            phone: phone10, expires: Date.now() + (7 * 24 * 60 * 60 * 1000)
                        }));
                        window.location.href = '/berber/salon/yonetim/?slug=' + matchedSlug;
                    } else if (matchedStaffInfo) {
                        localStorage.setItem('staffSession', JSON.stringify({
                            type: 'staff', staffId: matchedStaffInfo.id || matchedStaffInfo.name,
                            staffName: matchedStaffInfo.name, salonId: matchedSalonId, salonSlug: matchedSlug,
                            expires: Date.now() + (7 * 24 * 60 * 60 * 1000)
                        }));
                        window.location.href = '/berber/salon/yonetim/?slug=' + matchedSlug + '&staff=' + encodeURIComponent(matchedStaffInfo.id || matchedStaffInfo.name) + '&staffName=' + encodeURIComponent(matchedStaffInfo.name);
                    }
                    return;
                }
                
                throw new Error('Telefon numarasÄ± veya PIN hatalÄ±');
                
            } catch (error) {
                errorEl.textContent = error.message || 'GiriÅŸ baÅŸarÄ±sÄ±z';
                errorEl.classList.add('show');
                btn.disabled = false;
                btn.textContent = 'GiriÅŸ Yap';
            }
        }
        
        // ESC ile modal kapat
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeLoginModal();
                const mobileMenu = document.getElementById('mobileMenu');
                if (mobileMenu && mobileMenu.classList.contains('active')) {
                    toggleMobileMenu();
                }
            }
        });
    </script>
    
    <!-- PWA Manager -->
    <script src="/pwa-manager.js"></script>
    
    <!-- UX Enhancements -->
    <script src="/ux-enhancements.js"></script>
    
</body>
</html>
